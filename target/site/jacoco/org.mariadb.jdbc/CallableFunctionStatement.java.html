<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="tr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CallableFunctionStatement.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">mariadb-java-client</a> &gt; <a href="index.source.html" class="el_package">org.mariadb.jdbc</a> &gt; <span class="el_source">CallableFunctionStatement.java</span></div><h1>CallableFunctionStatement.java</h1><pre class="source lang-java linenums">/*
 *
 * MariaDB Client for Java
 *
 * Copyright (c) 2012-2014 Monty Program Ab.
 * Copyright (c) 2015-2017 MariaDB Ab.
 *
 * This library is free software; you can redistribute it and/or modify it under
 * the terms of the GNU Lesser General Public License as published by the Free
 * Software Foundation; either version 2.1 of the License, or (at your option)
 * any later version.
 *
 * This library is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License
 * for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License along
 * with this library; if not, write to Monty Program Ab info@montyprogram.com.
 *
 * This particular MariaDB Client for Java file is work
 * derived from a Drizzle-JDBC. Drizzle-JDBC file which is covered by subject to
 * the following copyright and notice provisions:
 *
 * Copyright (c) 2009-2011, Marcus Eriksson
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * Redistributions of source code must retain the above copyright notice, this list
 * of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright notice, this
 * list of conditions and the following disclaimer in the documentation and/or
 * other materials provided with the distribution.
 *
 * Neither the name of the driver nor the names of its contributors may not be
 * used to endorse or promote products derived from this software without specific
 * prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS  AND CONTRIBUTORS &quot;AS IS&quot;
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
 * OF SUCH DAMAGE.
 *
 */


package org.mariadb.jdbc;

import java.io.InputStream;
import java.io.Reader;
import java.math.BigDecimal;
import java.net.URL;
import java.sql.Array;
import java.sql.Blob;
import java.sql.CallableStatement;
import java.sql.Clob;
import java.sql.Date;
import java.sql.NClob;
import java.sql.ParameterMetaData;
import java.sql.Ref;
import java.sql.RowId;
import java.sql.SQLException;
import java.sql.SQLType;
import java.sql.SQLXML;
import java.sql.Statement;
import java.sql.Time;
import java.sql.Timestamp;
import java.sql.Types;
import java.util.Calendar;
import java.util.Map;
import org.mariadb.jdbc.internal.ColumnType;
import org.mariadb.jdbc.internal.com.read.resultset.SelectResultSet;
import org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper;

public abstract class CallableFunctionStatement extends ClientSidePreparedStatement implements
    CallableStatement {

  protected CallableParameterMetaData parameterMetadata;
  /**
   * Information about parameters, merely from registerOutputParameter() and setXXX() calls.
   */
  private CallParameter[] params;

  /**
   * Constructor for getter/setter of callableStatement.
   *
   * @param connection           current connection
   * @param sql                  query
   * @param resultSetType        a result set type; one of &lt;code&gt;ResultSet.TYPE_FORWARD_ONLY&lt;/code&gt;,
   *                             &lt;code&gt;ResultSet.TYPE_SCROLL_INSENSITIVE&lt;/code&gt;, or
   *                             &lt;code&gt;ResultSet.TYPE_SCROLL_SENSITIVE&lt;/code&gt;
   * @param resultSetConcurrency a concurrency type; one of &lt;code&gt;ResultSet.CONCUR_READ_ONLY&lt;/code&gt;
   *                             or
   *                             &lt;code&gt;ResultSet.CONCUR_UPDATABLE&lt;/code&gt;
   * @throws SQLException if clientPrepareStatement creation throw an exception
   */
  public CallableFunctionStatement(MariaDbConnection connection, String sql, int resultSetType,
      final int resultSetConcurrency) throws SQLException {
<span class="nc" id="L106">    super(connection, sql, resultSetType, resultSetConcurrency, Statement.NO_GENERATED_KEYS);</span>
<span class="nc" id="L107">  }</span>

  /**
   * Clone data.
   *
   * @param connection connection
   * @return Cloned .
   * @throws CloneNotSupportedException if any error occur.
   */
  public CallableFunctionStatement clone(MariaDbConnection connection)
      throws CloneNotSupportedException {
<span class="nc" id="L118">    CallableFunctionStatement clone = (CallableFunctionStatement) super.clone(connection);</span>
<span class="nc" id="L119">    clone.params = params;</span>
<span class="nc" id="L120">    clone.parameterMetadata = parameterMetadata;</span>
<span class="nc" id="L121">    clone.connection = connection;</span>

<span class="nc" id="L123">    return clone;</span>
  }

  /**
   * Data initialisation when parameterCount is defined.
   *
   * @param parametersCount number of parameters
   */
  public void initFunctionData(int parametersCount) {
<span class="nc" id="L132">    params = new CallParameter[parametersCount];</span>
<span class="nc bnc" id="L133" title="All 2 branches missed.">    for (int i = 0; i &lt; parametersCount; i++) {</span>
<span class="nc" id="L134">      params[i] = new CallParameter();</span>
<span class="nc bnc" id="L135" title="All 2 branches missed.">      if (i &gt; 0) {</span>
<span class="nc" id="L136">        params[i].setInput(true);</span>
      }
    }
    // the query was in the form {?=call function()}, so the first parameter is always output
<span class="nc" id="L140">    params[0].setOutput(true);</span>
<span class="nc" id="L141">  }</span>

  protected abstract SelectResultSet getResult() throws SQLException;

  public ParameterMetaData getParameterMetaData() throws SQLException {
<span class="nc" id="L146">    parameterMetadata.readMetadataFromDbIfRequired();</span>
<span class="nc" id="L147">    return parameterMetadata;</span>
  }

  /**
   * Convert parameter name to parameter index in the query.
   *
   * @param parameterName name
   * @return index
   * @throws SQLException exception
   */
  private int nameToIndex(String parameterName) throws SQLException {
<span class="nc" id="L158">    parameterMetadata.readMetadataFromDbIfRequired();</span>
<span class="nc bnc" id="L159" title="All 2 branches missed.">    for (int i = 1; i &lt;= parameterMetadata.getParameterCount(); i++) {</span>
<span class="nc" id="L160">      String name = parameterMetadata.getName(i);</span>
<span class="nc bnc" id="L161" title="All 4 branches missed.">      if (name != null &amp;&amp; name.equalsIgnoreCase(parameterName)) {</span>
<span class="nc" id="L162">        return i;</span>
      }
    }
<span class="nc" id="L165">    throw new SQLException(&quot;there is no parameter with the name &quot; + parameterName);</span>
  }


  /**
   * Convert parameter name to output parameter index in the query.
   *
   * @param parameterName name
   * @return index
   * @throws SQLException exception
   */
  private int nameToOutputIndex(String parameterName) throws SQLException {
<span class="nc bnc" id="L177" title="All 2 branches missed.">    for (int i = 0; i &lt; parameterMetadata.getParameterCount(); i++) {</span>
<span class="nc" id="L178">      String name = parameterMetadata.getName(i);</span>
<span class="nc bnc" id="L179" title="All 4 branches missed.">      if (name != null &amp;&amp; name.equalsIgnoreCase(parameterName)) {</span>
<span class="nc" id="L180">        return i;</span>
      }
    }
<span class="nc" id="L183">    throw new SQLException(&quot;there is no parameter with the name &quot; + parameterName);</span>
  }

  /**
   * Convert parameter index to corresponding outputIndex.
   *
   * @param parameterIndex index
   * @return index
   */
  private int indexToOutputIndex(int parameterIndex) {
<span class="nc" id="L193">    return parameterIndex;</span>
  }

  @Override
  public boolean wasNull() throws SQLException {
<span class="nc" id="L198">    return getResult().wasNull();</span>
  }

  @Override
  public String getString(int parameterIndex) throws SQLException {
<span class="nc" id="L203">    return getResult().getString(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public String getString(String parameterName) throws SQLException {
<span class="nc" id="L208">    return getResult().getString(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public boolean getBoolean(int parameterIndex) throws SQLException {
<span class="nc" id="L213">    return getResult().getBoolean(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public boolean getBoolean(String parameterName) throws SQLException {
<span class="nc" id="L218">    return getResult().getBoolean(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public byte getByte(int parameterIndex) throws SQLException {
<span class="nc" id="L223">    return getResult().getByte(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public byte getByte(String parameterName) throws SQLException {
<span class="nc" id="L228">    return getResult().getByte(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public short getShort(int parameterIndex) throws SQLException {
<span class="nc" id="L233">    return getResult().getShort(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public short getShort(String parameterName) throws SQLException {
<span class="nc" id="L238">    return getResult().getShort(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public int getInt(String parameterName) throws SQLException {
<span class="nc" id="L243">    return getResult().getInt(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public int getInt(int parameterIndex) throws SQLException {
<span class="nc" id="L248">    return getResult().getInt(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public long getLong(String parameterName) throws SQLException {
<span class="nc" id="L253">    return getResult().getLong(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public long getLong(int parameterIndex) throws SQLException {
<span class="nc" id="L258">    return getResult().getLong(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public float getFloat(String parameterName) throws SQLException {
<span class="nc" id="L263">    return getResult().getFloat(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public float getFloat(int parameterIndex) throws SQLException {
<span class="nc" id="L268">    return getResult().getFloat(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public double getDouble(int parameterIndex) throws SQLException {
<span class="nc" id="L273">    return getResult().getDouble(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public double getDouble(String parameterName) throws SQLException {
<span class="nc" id="L278">    return getResult().getDouble(nameToOutputIndex(parameterName));</span>
  }

  @Override
  @Deprecated
  @SuppressWarnings(&quot;deprecation&quot;)
  public BigDecimal getBigDecimal(int parameterIndex, int scale) throws SQLException {
<span class="nc" id="L285">    return getResult().getBigDecimal(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public BigDecimal getBigDecimal(int parameterIndex) throws SQLException {
<span class="nc" id="L290">    return getResult().getBigDecimal(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public BigDecimal getBigDecimal(String parameterName) throws SQLException {
<span class="nc" id="L295">    return getResult().getBigDecimal(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public byte[] getBytes(String parameterName) throws SQLException {
<span class="nc" id="L300">    return getResult().getBytes(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public byte[] getBytes(int parameterIndex) throws SQLException {
<span class="nc" id="L305">    return getResult().getBytes(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public Date getDate(int parameterIndex) throws SQLException {
<span class="nc" id="L310">    return getResult().getDate(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public Date getDate(String parameterName) throws SQLException {
<span class="nc" id="L315">    return getResult().getDate(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public Date getDate(String parameterName, Calendar cal) throws SQLException {
<span class="nc" id="L320">    return getResult().getDate(nameToOutputIndex(parameterName), cal);</span>
  }

  @Override
  public Date getDate(int parameterIndex, Calendar cal) throws SQLException {
<span class="nc" id="L325">    return getResult().getDate(parameterIndex, cal);</span>
  }

  @Override
  public Time getTime(int parameterIndex, Calendar cal) throws SQLException {
<span class="nc" id="L330">    return getResult().getTime(indexToOutputIndex(parameterIndex), cal);</span>
  }

  @Override
  public Time getTime(String parameterName) throws SQLException {
<span class="nc" id="L335">    return getResult().getTime(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public Time getTime(String parameterName, Calendar cal) throws SQLException {
<span class="nc" id="L340">    return getResult().getTime(nameToOutputIndex(parameterName), cal);</span>
  }

  @Override
  public Time getTime(int parameterIndex) throws SQLException {
<span class="nc" id="L345">    return getResult().getTime(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public Timestamp getTimestamp(int parameterIndex) throws SQLException {
<span class="nc" id="L350">    return getResult().getTimestamp(parameterIndex);</span>
  }

  @Override
  public Timestamp getTimestamp(int parameterIndex, Calendar cal) throws SQLException {
<span class="nc" id="L355">    return getResult().getTimestamp(indexToOutputIndex(parameterIndex), cal);</span>
  }

  @Override
  public Timestamp getTimestamp(String parameterName) throws SQLException {
<span class="nc" id="L360">    return getResult().getTimestamp(nameToOutputIndex(parameterName));</span>
  }


  @Override
  public Timestamp getTimestamp(String parameterName, Calendar cal) throws SQLException {
<span class="nc" id="L366">    return getResult().getTimestamp(nameToOutputIndex(parameterName), cal);</span>
  }

  @Override
  public Object getObject(int parameterIndex) throws SQLException {
<span class="nc" id="L371">    Class&lt;?&gt; classType = ColumnType</span>
<span class="nc" id="L372">        .classFromJavaType(getParameter(parameterIndex).getOutputSqlType());</span>
<span class="nc bnc" id="L373" title="All 2 branches missed.">    if (classType != null) {</span>
<span class="nc" id="L374">      return getResult().getObject(indexToOutputIndex(parameterIndex), classType);</span>
    }
<span class="nc" id="L376">    return getResult().getObject(indexToOutputIndex(parameterIndex));</span>

  }

  @Override
  public Object getObject(String parameterName) throws SQLException {
<span class="nc" id="L382">    int index = nameToIndex(parameterName);</span>
<span class="nc" id="L383">    Class&lt;?&gt; classType = ColumnType.classFromJavaType(getParameter(index).getOutputSqlType());</span>
<span class="nc bnc" id="L384" title="All 2 branches missed.">    if (classType != null) {</span>
<span class="nc" id="L385">      return getResult().getObject(indexToOutputIndex(index), classType);</span>
    }
<span class="nc" id="L387">    return getResult().getObject(indexToOutputIndex(index));</span>
  }

  @Override
  public Object getObject(int parameterIndex, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {
<span class="nc" id="L392">    return getResult().getObject(indexToOutputIndex(parameterIndex), map);</span>
  }

  @Override
  public Object getObject(String parameterName, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {
<span class="nc" id="L397">    return getResult().getObject(nameToOutputIndex(parameterName), map);</span>
  }

  @Override
  public &lt;T&gt; T getObject(int parameterIndex, Class&lt;T&gt; type) throws SQLException {
<span class="nc" id="L402">    return getResult().getObject(indexToOutputIndex(parameterIndex), type);</span>
  }

  @Override
  public &lt;T&gt; T getObject(String parameterName, Class&lt;T&gt; type) throws SQLException {
<span class="nc" id="L407">    return getResult().getObject(nameToOutputIndex(parameterName), type);</span>
  }

  @Override
  public Ref getRef(int parameterIndex) throws SQLException {
<span class="nc" id="L412">    return getResult().getRef(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public Ref getRef(String parameterName) throws SQLException {
<span class="nc" id="L417">    return getResult().getRef(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public Blob getBlob(int parameterIndex) throws SQLException {
<span class="nc" id="L422">    return getResult().getBlob(parameterIndex);</span>
  }

  @Override
  public Blob getBlob(String parameterName) throws SQLException {
<span class="nc" id="L427">    return getResult().getBlob(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public Clob getClob(String parameterName) throws SQLException {
<span class="nc" id="L432">    return getResult().getClob(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public Clob getClob(int parameterIndex) throws SQLException {
<span class="nc" id="L437">    return getResult().getClob(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public Array getArray(String parameterName) throws SQLException {
<span class="nc" id="L442">    return getResult().getArray(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public Array getArray(int parameterIndex) throws SQLException {
<span class="nc" id="L447">    return getResult().getArray(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public URL getURL(int parameterIndex) throws SQLException {
<span class="nc" id="L452">    return getResult().getURL(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public URL getURL(String parameterName) throws SQLException {
<span class="nc" id="L457">    return getResult().getURL(nameToOutputIndex(parameterName));</span>
  }


  @Override
  public RowId getRowId(int parameterIndex) throws SQLException {
<span class="nc" id="L463">    throw ExceptionMapper.getFeatureNotSupportedException(&quot;RowIDs not supported&quot;);</span>
  }

  @Override
  public RowId getRowId(String parameterName) throws SQLException {
<span class="nc" id="L468">    throw ExceptionMapper.getFeatureNotSupportedException(&quot;RowIDs not supported&quot;);</span>
  }

  @Override
  public NClob getNClob(int parameterIndex) throws SQLException {
<span class="nc" id="L473">    return getResult().getNClob(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public NClob getNClob(String parameterName) throws SQLException {
<span class="nc" id="L478">    return getResult().getNClob(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public SQLXML getSQLXML(int parameterIndex) throws SQLException {
<span class="nc" id="L483">    throw ExceptionMapper.getFeatureNotSupportedException(&quot;SQLXML not supported&quot;);</span>
  }

  @Override
  public SQLXML getSQLXML(String parameterName) throws SQLException {
<span class="nc" id="L488">    throw ExceptionMapper.getFeatureNotSupportedException(&quot;SQLXML not supported&quot;);</span>
  }

  @Override
  public String getNString(int parameterIndex) throws SQLException {
<span class="nc" id="L493">    return getResult().getNString(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public String getNString(String parameterName) throws SQLException {
<span class="nc" id="L498">    return getResult().getNString(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public Reader getNCharacterStream(int parameterIndex) throws SQLException {
<span class="nc" id="L503">    return getResult().getNCharacterStream(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public Reader getNCharacterStream(String parameterName) throws SQLException {
<span class="nc" id="L508">    return getResult().getNCharacterStream(nameToOutputIndex(parameterName));</span>
  }

  @Override
  public Reader getCharacterStream(int parameterIndex) throws SQLException {
<span class="nc" id="L513">    return getResult().getCharacterStream(indexToOutputIndex(parameterIndex));</span>
  }

  @Override
  public Reader getCharacterStream(String parameterName) throws SQLException {
<span class="nc" id="L518">    return getResult().getCharacterStream(nameToOutputIndex(parameterName));</span>
  }

  /**
   * &lt;p&gt;Registers the designated output parameter.
   * This version of the method &lt;code&gt;registerOutParameter&lt;/code&gt; should be used for a user-defined
   * or &lt;code&gt;REF&lt;/code&gt; output parameter.  Examples of user-defined types include:
   * &lt;code&gt;STRUCT&lt;/code&gt;, &lt;code&gt;DISTINCT&lt;/code&gt;,
   * &lt;code&gt;JAVA_OBJECT&lt;/code&gt;, and named array types.&lt;/p&gt;
   * &lt;p&gt;All OUT parameters must be registered
   * before a stored procedure is executed.&lt;/p&gt;
   * &lt;p&gt;  For a user-defined parameter, the fully-qualified SQL
   * type name of the parameter should also be given, while a &lt;code&gt;REF&lt;/code&gt; parameter requires
   * that the fully-qualified type name of the referenced type be given.  A JDBC driver that does
   * not need the type code and type name information may ignore it.   To be portable, however,
   * applications should always provide these values for user-defined and &lt;code&gt;REF&lt;/code&gt;
   * parameters.&lt;/p&gt;
   * &lt;p&gt;Although it is intended for user-defined and &lt;code&gt;REF&lt;/code&gt; parameters,
   * this method may be used to register a parameter of any JDBC type. If the parameter does not
   * have a user-defined or &lt;code&gt;REF&lt;/code&gt; type, the
   * &lt;i&gt;typeName&lt;/i&gt; parameter is ignored.&lt;/p&gt;
   * &lt;p&gt;&lt;B&gt;Note:&lt;/B&gt; When reading the value of an out parameter, you
   * must use the getter method whose Java type corresponds to the parameter's registered SQL
   * type.&lt;/p&gt;
   *
   * @param parameterIndex the first parameter is 1, the second is 2,...
   * @param sqlType        a value from {@link Types}
   * @param typeName       the fully-qualified name of an SQL structured type
   * @throws SQLException                    if the parameterIndex is not valid; if a database
   *                                         access error occurs or this method is called on a
   *                                         closed &lt;code&gt;CallableStatement&lt;/code&gt;
   * @see Types
   */
  public void registerOutParameter(int parameterIndex, int sqlType, String typeName)
      throws SQLException {
<span class="nc" id="L553">    CallParameter callParameter = getParameter(parameterIndex);</span>
<span class="nc" id="L554">    callParameter.setOutputSqlType(sqlType);</span>
<span class="nc" id="L555">    callParameter.setTypeName(typeName);</span>
<span class="nc" id="L556">    callParameter.setOutput(true);</span>
<span class="nc" id="L557">  }</span>

  @Override
  public void registerOutParameter(int parameterIndex, int sqlType) throws SQLException {
<span class="nc" id="L561">    registerOutParameter(parameterIndex, sqlType, -1);</span>
<span class="nc" id="L562">  }</span>

  /**
   * &lt;p&gt;Registers the parameter in ordinal position
   * &lt;code&gt;parameterIndex&lt;/code&gt; to be of JDBC type
   * &lt;code&gt;sqlType&lt;/code&gt;. All OUT parameters must be registered
   * before a stored procedure is executed.&lt;/p&gt;
   * &lt;p&gt;The JDBC type specified by &lt;code&gt;sqlType&lt;/code&gt; for an OUT
   * parameter determines the Java type that must be used in the &lt;code&gt;get&lt;/code&gt; method to read the
   * value of that parameter.&lt;/p&gt;
   * &lt;p&gt;This version of &lt;code&gt;registerOutParameter&lt;/code&gt; should be
   * used when the parameter is of JDBC type &lt;code&gt;NUMERIC&lt;/code&gt; or &lt;code&gt;DECIMAL&lt;/code&gt;.&lt;/p&gt;
   *
   * @param parameterIndex the first parameter is 1, the second is 2, and so on
   * @param sqlType        the SQL type code defined by &lt;code&gt;java.sql.Types&lt;/code&gt;.
   * @param scale          the desired number of digits to the right of the decimal point.  It must
   *                       be greater than or equal to zero.
   * @throws SQLException                    if the parameterIndex is not valid; if a database
   *                                         access error occurs or this method is called on a
   *                                         closed &lt;code&gt;CallableStatement&lt;/code&gt;
   * @see Types
   */
  @Override
  public void registerOutParameter(int parameterIndex, int sqlType, int scale) throws SQLException {
<span class="nc" id="L586">    CallParameter callParameter = getParameter(parameterIndex);</span>
<span class="nc" id="L587">    callParameter.setOutput(true);</span>
<span class="nc" id="L588">    callParameter.setOutputSqlType(sqlType);</span>
<span class="nc" id="L589">    callParameter.setScale(scale);</span>
<span class="nc" id="L590">  }</span>

  @Override
  public void registerOutParameter(String parameterName, int sqlType) throws SQLException {
<span class="nc" id="L594">    registerOutParameter(nameToIndex(parameterName), sqlType);</span>
<span class="nc" id="L595">  }</span>

  @Override
  public void registerOutParameter(String parameterName, int sqlType, int scale)
      throws SQLException {
<span class="nc" id="L600">    registerOutParameter(nameToIndex(parameterName), sqlType, scale);</span>
<span class="nc" id="L601">  }</span>


  @Override
  public void registerOutParameter(String parameterName, int sqlType, String typeName)
      throws SQLException {
<span class="nc" id="L607">    registerOutParameter(nameToIndex(parameterName), sqlType, typeName);</span>
<span class="nc" id="L608">  }</span>

  @Override
  public void registerOutParameter(int parameterIndex, SQLType sqlType) throws SQLException {
<span class="nc" id="L612">    registerOutParameter(parameterIndex, sqlType.getVendorTypeNumber());</span>
<span class="nc" id="L613">  }</span>

  @Override
  public void registerOutParameter(int parameterIndex, SQLType sqlType, int scale)
      throws SQLException {
<span class="nc" id="L618">    registerOutParameter(parameterIndex, sqlType.getVendorTypeNumber(), scale);</span>
<span class="nc" id="L619">  }</span>

  @Override
  public void registerOutParameter(int parameterIndex, SQLType sqlType, String typeName)
      throws SQLException {
<span class="nc" id="L624">    registerOutParameter(parameterIndex, sqlType.getVendorTypeNumber(), typeName);</span>
<span class="nc" id="L625">  }</span>

  @Override
  public void registerOutParameter(String parameterName, SQLType sqlType) throws SQLException {
<span class="nc" id="L629">    registerOutParameter(parameterName, sqlType.getVendorTypeNumber());</span>
<span class="nc" id="L630">  }</span>

  @Override
  public void registerOutParameter(String parameterName, SQLType sqlType, int scale)
      throws SQLException {
<span class="nc" id="L635">    registerOutParameter(parameterName, sqlType.getVendorTypeNumber(), scale);</span>
<span class="nc" id="L636">  }</span>

  @Override
  public void registerOutParameter(String parameterName, SQLType sqlType, String typeName)
      throws SQLException {
<span class="nc" id="L641">    registerOutParameter(parameterName, sqlType.getVendorTypeNumber(), typeName);</span>
<span class="nc" id="L642">  }</span>

  private CallParameter getParameter(int index) throws SQLException {
<span class="nc bnc" id="L645" title="All 4 branches missed.">    if (index &gt; params.length || index &lt;= 0) {</span>
<span class="nc" id="L646">      throw new SQLException(&quot;No parameter with index &quot; + (index));</span>
    }
<span class="nc" id="L648">    return params[index - 1];</span>
  }

  @Override
  public void setSQLXML(String parameterName, SQLXML xmlObject) throws SQLException {
<span class="nc" id="L653">    throw ExceptionMapper.getFeatureNotSupportedException(&quot;SQLXML not supported&quot;);</span>
  }

  @Override
  public void setRowId(String parameterName, RowId rowid) throws SQLException {
<span class="nc" id="L658">    throw ExceptionMapper.getFeatureNotSupportedException(&quot;RowIDs not supported&quot;);</span>
  }

  @Override
  public void setNString(String parameterName, String value) throws SQLException {
<span class="nc" id="L663">    setNString(nameToIndex(parameterName), value);</span>
<span class="nc" id="L664">  }</span>

  @Override
  public void setNCharacterStream(String parameterName, Reader reader, long length)
      throws SQLException {
<span class="nc" id="L669">    setCharacterStream(nameToIndex(parameterName), reader, length);</span>
<span class="nc" id="L670">  }</span>

  @Override
  public void setNCharacterStream(String parameterName, Reader reader) throws SQLException {
<span class="nc" id="L674">    setCharacterStream(nameToIndex(parameterName), reader);</span>
<span class="nc" id="L675">  }</span>

  @Override
  public void setNClob(String parameterName, NClob value) throws SQLException {
<span class="nc" id="L679">    setClob(nameToIndex(parameterName), value);</span>
<span class="nc" id="L680">  }</span>

  @Override
  public void setNClob(String parameterName, Reader reader, long length) throws SQLException {
<span class="nc" id="L684">    setClob(nameToIndex(parameterName), reader, length);</span>
<span class="nc" id="L685">  }</span>

  @Override
  public void setNClob(String parameterName, Reader reader) throws SQLException {
<span class="nc" id="L689">    setClob(nameToIndex(parameterName), reader);</span>
<span class="nc" id="L690">  }</span>

  @Override
  public void setClob(String parameterName, Reader reader, long length) throws SQLException {
<span class="nc" id="L694">    setClob(nameToIndex(parameterName), reader, length);</span>
<span class="nc" id="L695">  }</span>

  @Override
  public void setClob(String parameterName, Clob clob) throws SQLException {
<span class="nc" id="L699">    setClob(nameToIndex(parameterName), clob);</span>
<span class="nc" id="L700">  }</span>

  @Override
  public void setClob(String parameterName, Reader reader) throws SQLException {
<span class="nc" id="L704">    setClob(nameToIndex(parameterName), reader);</span>
<span class="nc" id="L705">  }</span>

  @Override
  public void setBlob(String parameterName, InputStream inputStream, long length)
      throws SQLException {
<span class="nc" id="L710">    setBlob(nameToIndex(parameterName), inputStream, length);</span>
<span class="nc" id="L711">  }</span>

  @Override
  public void setBlob(String parameterName, Blob blob) throws SQLException {
<span class="nc" id="L715">    setBlob(nameToIndex(parameterName), blob);</span>
<span class="nc" id="L716">  }</span>

  @Override
  public void setBlob(String parameterName, InputStream inputStream) throws SQLException {
<span class="nc" id="L720">    setBlob(nameToIndex(parameterName), inputStream);</span>
<span class="nc" id="L721">  }</span>

  @Override
  public void setAsciiStream(String parameterName, InputStream inputStream, long length)
      throws SQLException {
<span class="nc" id="L726">    setAsciiStream(nameToIndex(parameterName), inputStream, length);</span>
<span class="nc" id="L727">  }</span>

  @Override
  public void setAsciiStream(String parameterName, InputStream inputStream, int length)
      throws SQLException {
<span class="nc" id="L732">    setAsciiStream(nameToIndex(parameterName), inputStream, length);</span>
<span class="nc" id="L733">  }</span>

  @Override
  public void setAsciiStream(String parameterName, InputStream inputStream) throws SQLException {
<span class="nc" id="L737">    setAsciiStream(nameToIndex(parameterName), inputStream);</span>
<span class="nc" id="L738">  }</span>

  @Override
  public void setBinaryStream(String parameterName, InputStream inputStream, long length)
      throws SQLException {
<span class="nc" id="L743">    setBinaryStream(nameToIndex(parameterName), inputStream, length);</span>
<span class="nc" id="L744">  }</span>


  @Override
  public void setBinaryStream(String parameterName, InputStream inputStream) throws SQLException {
<span class="nc" id="L749">    setBinaryStream(nameToIndex(parameterName), inputStream);</span>
<span class="nc" id="L750">  }</span>

  @Override
  public void setBinaryStream(String parameterName, InputStream inputStream, int length)
      throws SQLException {
<span class="nc" id="L755">    setBinaryStream(nameToIndex(parameterName), inputStream, length);</span>
<span class="nc" id="L756">  }</span>

  @Override
  public void setCharacterStream(String parameterName, Reader reader, long length)
      throws SQLException {
<span class="nc" id="L761">    setCharacterStream(nameToIndex(parameterName), reader, length);</span>
<span class="nc" id="L762">  }</span>

  @Override
  public void setCharacterStream(String parameterName, Reader reader) throws SQLException {
<span class="nc" id="L766">    setCharacterStream(nameToIndex(parameterName), reader);</span>
<span class="nc" id="L767">  }</span>

  @Override
  public void setCharacterStream(String parameterName, Reader reader, int length)
      throws SQLException {
<span class="nc" id="L772">    setCharacterStream(nameToIndex(parameterName), reader, length);</span>
<span class="nc" id="L773">  }</span>

  @Override
  public void setURL(String parameterName, URL url) throws SQLException {
<span class="nc" id="L777">    setURL(nameToIndex(parameterName), url);</span>
<span class="nc" id="L778">  }</span>

  @Override
  public void setNull(String parameterName, int sqlType) throws SQLException {
<span class="nc" id="L782">    setNull(nameToIndex(parameterName), sqlType);</span>
<span class="nc" id="L783">  }</span>

  @Override
  public void setNull(String parameterName, int sqlType, String typeName) throws SQLException {
<span class="nc" id="L787">    setNull(nameToIndex(parameterName), sqlType, typeName);</span>
<span class="nc" id="L788">  }</span>

  @Override
  public void setBoolean(String parameterName, boolean booleanValue) throws SQLException {
<span class="nc" id="L792">    setBoolean(nameToIndex(parameterName), booleanValue);</span>

<span class="nc" id="L794">  }</span>

  @Override
  public void setByte(String parameterName, byte byteValue) throws SQLException {
<span class="nc" id="L798">    setByte(nameToIndex(parameterName), byteValue);</span>
<span class="nc" id="L799">  }</span>

  @Override
  public void setShort(String parameterName, short shortValue) throws SQLException {
<span class="nc" id="L803">    setShort(nameToIndex(parameterName), shortValue);</span>
<span class="nc" id="L804">  }</span>

  @Override
  public void setInt(String parameterName, int intValue) throws SQLException {
<span class="nc" id="L808">    setInt(nameToIndex(parameterName), intValue);</span>
<span class="nc" id="L809">  }</span>

  @Override
  public void setLong(String parameterName, long longValue) throws SQLException {
<span class="nc" id="L813">    setLong(nameToIndex(parameterName), longValue);</span>
<span class="nc" id="L814">  }</span>

  @Override
  public void setFloat(String parameterName, float floatValue) throws SQLException {
<span class="nc" id="L818">    setFloat(nameToIndex(parameterName), floatValue);</span>
<span class="nc" id="L819">  }</span>

  @Override
  public void setDouble(String parameterName, double doubleValue) throws SQLException {
<span class="nc" id="L823">    setDouble(nameToIndex(parameterName), doubleValue);</span>
<span class="nc" id="L824">  }</span>

  @Override
  public void setBigDecimal(String parameterName, BigDecimal bigDecimal) throws SQLException {
<span class="nc" id="L828">    setBigDecimal(nameToIndex(parameterName), bigDecimal);</span>
<span class="nc" id="L829">  }</span>

  @Override
  public void setString(String parameterName, String stringValue) throws SQLException {
<span class="nc" id="L833">    setString(nameToIndex(parameterName), stringValue);</span>
<span class="nc" id="L834">  }</span>

  @Override
  public void setBytes(String parameterName, byte[] bytes) throws SQLException {
<span class="nc" id="L838">    setBytes(nameToIndex(parameterName), bytes);</span>
<span class="nc" id="L839">  }</span>

  @Override
  public void setDate(String parameterName, Date date) throws SQLException {
<span class="nc" id="L843">    setDate(nameToIndex(parameterName), date);</span>
<span class="nc" id="L844">  }</span>

  @Override
  public void setDate(String parameterName, Date date, Calendar cal) throws SQLException {
<span class="nc" id="L848">    setDate(nameToIndex(parameterName), date, cal);</span>
<span class="nc" id="L849">  }</span>

  @Override
  public void setTime(String parameterName, Time time) throws SQLException {
<span class="nc" id="L853">    setTime(nameToIndex(parameterName), time);</span>
<span class="nc" id="L854">  }</span>

  @Override
  public void setTime(String parameterName, Time time, Calendar cal) throws SQLException {
<span class="nc" id="L858">    setTime(nameToIndex(parameterName), time, cal);</span>
<span class="nc" id="L859">  }</span>

  @Override
  public void setTimestamp(String parameterName, Timestamp timestamp) throws SQLException {
<span class="nc" id="L863">    setTimestamp(nameToIndex(parameterName), timestamp);</span>
<span class="nc" id="L864">  }</span>

  @Override
  public void setTimestamp(String parameterName, Timestamp timestamp, Calendar cal)
      throws SQLException {
<span class="nc" id="L869">    setTimestamp(nameToIndex(parameterName), timestamp, cal);</span>
<span class="nc" id="L870">  }</span>


  @Override
  public void setObject(String parameterName, Object obj, int targetSqlType, int scale)
      throws SQLException {
<span class="nc" id="L876">    setObject(nameToIndex(parameterName), obj, targetSqlType, scale);</span>
<span class="nc" id="L877">  }</span>

  @Override
  public void setObject(String parameterName, Object obj, int targetSqlType) throws SQLException {
<span class="nc" id="L881">    setObject(nameToIndex(parameterName), obj, targetSqlType);</span>
<span class="nc" id="L882">  }</span>

  @Override
  public void setObject(String parameterName, Object obj) throws SQLException {
<span class="nc" id="L886">    setObject(nameToIndex(parameterName), obj);</span>
<span class="nc" id="L887">  }</span>

  @Override
  public void setObject(String parameterName, Object obj, SQLType targetSqlType, int scaleOrLength)
      throws SQLException {
<span class="nc" id="L892">    setObject(nameToIndex(parameterName), obj, targetSqlType.getVendorTypeNumber(), scaleOrLength);</span>
<span class="nc" id="L893">  }</span>

  @Override
  public void setObject(String parameterName, Object obj, SQLType targetSqlType)
      throws SQLException {
<span class="nc" id="L898">    setObject(nameToIndex(parameterName), obj, targetSqlType.getVendorTypeNumber());</span>
<span class="nc" id="L899">  }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>